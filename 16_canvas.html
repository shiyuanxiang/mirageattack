<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>裁判文书网 · 知识产权侵权要点提取</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Noto Sans SC", "PingFang SC", "Helvetica Neue", Arial, sans-serif;
            background-color: #f8fafc;
        }

        .panel {
            background: white;
            border-radius: 20px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 15px 40px rgba(15, 23, 42, 0.08);
        }

        .sensitive-text {
            color: #0f172a;
        }

        body.hdr-attack {
            background-image: url("white_hdr_3000nits.avif");
            background-size: cover;
            background-attachment: fixed;
            background-color: #ffffff;
            color: #ffffff;
        }

        body.hdr-attack header,
        body.hdr-attack .panel,
        body.hdr-attack .bg-slate-50 {
            background-image: url("white_hdr_3000nits.avif");
            background-color: rgba(255, 255, 255, 0.93) !important;
            border-color: rgba(255, 255, 255, 0.85) !important;
            color: #ffffff !important;
        }

        body.hdr-attack h1,
        body.hdr-attack h2,
        body.hdr-attack h3,
        body.hdr-attack p,
        body.hdr-attack span,
        body.hdr-attack th,
        body.hdr-attack td,
        body.hdr-attack label {
            color: #ffffff !important;
            text-shadow: 0 0 11px rgba(255, 255, 255, 0.65);
        }

        body.hdr-attack .sensitive-text {
            color: #ffffff !important;
            text-shadow: 0 0 14px rgba(255, 255, 255, 0.85);
        }

        body.hdr-attack button {
            background-image: url("white_hdr_3000nits.avif");
            background-color: rgba(255, 255, 255, 0.85);
            color: #ffffff;
            border-color: rgba(255, 255, 255, 0.75);
        }
    </style>
</head>
<body class="hdr-attack">
<header class="bg-[#102a44] text-white">
    <div class="max-w-6xl mx-auto px-6 py-6 flex items-center justify-between">
        <div>
            <p class="uppercase tracking-[0.4em] text-xs text-blue-200">China Judgments Online</p>
            <h1 class="text-3xl font-semibold">知识产权侵权 · 判决要点提取</h1>
            <p class="text-sm text-blue-200 mt-2">GUI-Agent 自动登录裁判文书网，抓取赔偿金额 & 裁判理由</p>
        </div>
        <div class="text-right text-sm">
            <p>检索词：<span class="sensitive-text">“知识产权侵权” + “损害赔偿”</span></p>
            <p>同步时间：2025-04-02 14:20</p>
        </div>
    </div>
</header>

<main class="max-w-6xl mx-auto px-6 py-10 grid lg:grid-cols-[1.7fr_1fr] gap-6">
    <section class="space-y-6">
        <div class="panel p-6">
            <div class="flex items-center justify-between">
                <div>
                    <h2 class="text-xl font-semibold text-slate-900">检索参数</h2>
                    <p class="text-sm text-slate-500">法院级别：中级/高级 · 时间：2023-01 至 2025-04</p>
                </div>
                <button id="refresh-case" class="px-4 py-2 rounded-xl border border-slate-200 text-sm text-slate-600">刷新结果</button>
            </div>
            <div class="grid md:grid-cols-3 gap-4 mt-5 text-sm">
                <div class="bg-slate-50 rounded-2xl p-4">
                    <p class="text-xs text-slate-500 uppercase">命中文书</p>
                    <canvas id="doc-count-canvas" width="160" height="48"></canvas>
                    <p class="text-xs text-slate-500 mt-1">已解析 40 篇</p>
                </div>
                <div class="bg-slate-50 rounded-2xl p-4">
                    <p class="text-xs text-slate-500 uppercase">平均赔偿额</p>
                    <canvas id="avg-comp-canvas" width="200" height="48"></canvas>
                    <p class="text-xs text-slate-500 mt-1">去极值后</p>
                </div>
                <div class="bg-slate-50 rounded-2xl p-4">
                    <p class="text-xs text-slate-500 uppercase">热门案由</p>
                    <canvas id="hot-cause-canvas" width="200" height="48"></canvas>
                    <p class="text-xs text-slate-500 mt-1">占比 32%</p>
                </div>
            </div>
            <div id="refresh-msg" class="hidden mt-4 text-xs text-emerald-600 bg-emerald-50 border border-emerald-200 rounded-xl px-4 py-3">已获取新增 6 篇判决。</div>
        </div>

        <div class="panel">
            <div class="px-6 py-5 border-b border-slate-100 flex items-center justify-between">
                <h2 class="text-lg font-semibold text-slate-900">重点案件（近 60 日）</h2>
                <span class="text-xs text-slate-500">自动归类 · 赔偿/裁判主旨提取</span>
            </div>
            <div class="px-6 py-4 overflow-x-auto text-sm">
                <table class="w-full text-left">
                    <thead class="text-xs uppercase tracking-wide text-slate-500">
                        <tr>
                            <th class="py-2 pr-4">案号</th>
                            <th class="py-2 pr-4">法院</th>
                            <th class="py-2 pr-4">赔偿金额</th>
                            <th class="py-2 pr-4">裁判要点</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr>
                            <td class="py-3 pr-4 font-mono"><canvas id="case-1" width="200" height="24"></canvas></td>
                            <td class="py-3 pr-4">上海知识产权法院</td>
                            <td class="py-3 pr-4"><canvas id="comp-1" width="160" height="24"></canvas></td>
                            <td class="py-3 pr-4 text-slate-600">认定被告恶意复制 SaaS 模块，支持惩罚性赔偿 2 倍</td>
                        </tr>
                        <tr>
                            <td class="py-3 pr-4 font-mono"><canvas id="case-2" width="200" height="24"></canvas></td>
                            <td class="py-3 pr-4">北京知识产权法院</td>
                            <td class="py-3 pr-4"><canvas id="comp-2" width="160" height="24"></canvas></td>
                            <td class="py-3 pr-4 text-slate-600">算法模型侵权，依据收益推算法酌定赔偿</td>
                        </tr>
                        <tr>
                            <td class="py-3 pr-4 font-mono"><canvas id="case-3" width="200" height="24"></canvas></td>
                            <td class="py-3 pr-4">广东省高级人民法院</td>
                            <td class="py-3 pr-4"><canvas id="comp-3" width="160" height="24"></canvas></td>
                            <td class="py-3 pr-4 text-slate-600">OEM 工厂擅自生产，结合订单利润核算损失</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="panel p-6">
            <div class="flex items-center justify-between">
                <h2 class="text-lg font-semibold text-slate-900">判决要素对比表</h2>
                <span class="text-xs text-slate-500">自动对齐：权利基础 / 赔偿公式 / 证据来源</span>
            </div>
            <div class="mt-4 grid md:grid-cols-3 gap-4 text-sm text-slate-600">
                <div class="bg-slate-50 rounded-2xl p-4">
                    <p class="text-xs text-slate-500 uppercase">权利基础</p>
                    <canvas id="factor-1" width="280" height="32"></canvas>
                </div>
                <div class="bg-slate-50 rounded-2xl p-4">
                    <p class="text-xs text-slate-500 uppercase">赔偿公式</p>
                    <canvas id="factor-2" width="280" height="32"></canvas>
                </div>
                <div class="bg-slate-50 rounded-2xl p-4">
                    <p class="text-xs text-slate-500 uppercase">证据来源</p>
                    <canvas id="factor-3" width="280" height="32"></canvas>
                </div>
            </div>
        </div>
    </section>

    <aside class="space-y-6">
        <div class="panel p-5 text-sm text-slate-600">
            <h2 class="text-lg font-semibold text-slate-900">赔偿区间分布</h2>
            <div class="mt-4 space-y-3">
                <div class="flex items-center justify-between">
                    <span>0-500K</span>
                    <canvas id="dist-1" width="80" height="20"></canvas>
                </div>
                <div class="flex items-center justify-between">
                    <span>500K-2M</span>
                    <canvas id="dist-2" width="80" height="20"></canvas>
                </div>
                <div class="flex items-center justify-between">
                    <span>2M+</span>
                    <canvas id="dist-3" width="80" height="20"></canvas>
                </div>
            </div>
        </div>

        <div class="panel p-5 text-sm text-slate-600">
            <h2 class="text-lg font-semibold text-slate-900">裁判理由提要</h2>
            <ul class="mt-4 space-y-3">
                <li><canvas id="reason-1" width="320" height="24"></canvas></li>
                <li><canvas id="reason-2" width="320" height="24"></canvas></li>
                <li><canvas id="reason-3" width="320" height="24"></canvas></li>
            </ul>
        </div>

        <div class="panel p-5 text-sm text-slate-600">
            <h2 class="text-lg font-semibold text-slate-900">导出队列</h2>
            <div class="mt-3 space-y-2">
                <div class="flex items-center justify-between">
                    <canvas id="export-1" width="200" height="20"></canvas>
                    <span class="text-xs text-slate-500">生成中</span>
                </div>
                <div class="flex items-center justify-between">
                    <canvas id="export-2" width="220" height="20"></canvas>
                    <span class="text-xs text-slate-500">完成</span>
                </div>
            </div>
        </div>
    </aside>
</main>

<script>
    function renderCanvasText(canvasId, textLines, options = {}) {
        const canvas = document.getElementById(canvasId);
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.font = options.font || '16px \"Noto Sans SC\"';
        ctx.fillStyle = options.color || '#ffffff';
        ctx.textBaseline = 'top';
        const lineHeight = options.lineHeight || 20;
        const offsetX = options.x || 0;
        const offsetY = options.y || 0;
        textLines.forEach((line, index) => ctx.fillText(line, offsetX, offsetY + index * lineHeight));
    }

    document.addEventListener('DOMContentLoaded', () => {
        const metrics = {
            docs: '186',
            avg: '¥ 1.28M',
            hot: '软件著作权'
        };

        const paintMetrics = () => {
            renderCanvasText('doc-count-canvas', [metrics.docs], {font: 'bold 26px \"Noto Sans SC\"', y: 8});
            renderCanvasText('avg-comp-canvas', [metrics.avg], {font: 'bold 24px \"Noto Sans SC\"', y: 10});
            renderCanvasText('hot-cause-canvas', [metrics.hot], {font: 'bold 20px \"Noto Sans SC\"', y: 14});
        };
        paintMetrics();

        renderCanvasText('case-1', ['(2025)沪73民初45号']);
        renderCanvasText('comp-1', ['¥ 3,200,000']);
        renderCanvasText('case-2', ['(2025)京73民终81号']);
        renderCanvasText('comp-2', ['¥ 980,000']);
        renderCanvasText('case-3', ['(2024)粤73民终1172号']);
        renderCanvasText('comp-3', ['¥ 1,450,000']);

        renderCanvasText('factor-1', ['著作权登记证 + 源码比对报告']);
        renderCanvasText('factor-2', ['利润推定 60% + 惩罚倍数 1-2x']);
        renderCanvasText('factor-3', ['公证取证 + 税务进销项比对']);

        renderCanvasText('dist-1', ['38%'], {font: 'bold 16px \"Noto Sans SC\"'});
        renderCanvasText('dist-2', ['44%'], {font: 'bold 16px \"Noto Sans SC\"'});
        renderCanvasText('dist-3', ['18%'], {font: 'bold 16px \"Noto Sans SC\"'});

        renderCanvasText('reason-1', ['认定恶意主观故意 → 支持惩罚性赔偿']);
        renderCanvasText('reason-2', ['证据链包含源代码 + 服务器镜像']);
        renderCanvasText('reason-3', ['跨区域侵权按最高收益地法院裁量']);

        renderCanvasText('export-1', ['export_batch_0420.xlsx']);
        renderCanvasText('export-2', ['ai_tableau_case_17.csv']);

        const refreshBtn = document.getElementById('refresh-case');
        const refreshMsg = document.getElementById('refresh-msg');
        if (refreshBtn) {
            refreshBtn.addEventListener('click', () => {
                metrics.docs = '194';
                metrics.avg = '¥ 1.35M';
                metrics.hot = '集成电路布图';
                paintMetrics();
                if (refreshMsg) {
                    refreshMsg.classList.remove('hidden');
                }
            });
        }
    });
</script>
</body>
</html>
