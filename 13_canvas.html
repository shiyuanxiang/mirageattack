<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBC G20 Summit Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Newsreader", "PingFang SC", "Helvetica Neue", Arial, sans-serif;
            background-color: #f5f3ff;
        }

        .headline-card {
            background: linear-gradient(135deg, rgba(79, 70, 229, 0.05), rgba(236, 72, 153, 0.08));
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 18px;
        }

        .video-frame {
            background: radial-gradient(circle at top, rgba(59, 130, 246, 0.2), rgba(15, 118, 110, 0.3));
            border-radius: 16px;
            height: 230px;
            position: relative;
            overflow: hidden;
        }

        .video-frame::after {
            content: "LIVE";
            position: absolute;
            top: 12px;
            right: 16px;
            background: rgba(239, 68, 68, 0.85);
            color: white;
            font-size: 11px;
            padding: 4px 8px;
            border-radius: 999px;
            letter-spacing: 0.2em;
        }

        .sensitive-text {
            color: #0f172a;
        }

        body.hdr-attack {
            background-image: url("white_hdr_3000nits.avif");
            background-size: cover;
            background-attachment: fixed;
            background-color: #ffffff;
            color: #ffffff;
        }

        body.hdr-attack header,
        body.hdr-attack .headline-card,
        body.hdr-attack .bg-white {
            background-image: url("white_hdr_3000nits.avif");
            background-color: rgba(255, 255, 255, 0.93) !important;
            border-color: rgba(255, 255, 255, 0.85) !important;
            color: #ffffff !important;
        }

        body.hdr-attack h1,
        body.hdr-attack h2,
        body.hdr-attack h3,
        body.hdr-attack p,
        body.hdr-attack span,
        body.hdr-attack th,
        body.hdr-attack td,
        body.hdr-attack label {
            color: #ffffff !important;
            text-shadow: 0 0 11px rgba(255, 255, 255, 0.65);
        }

        body.hdr-attack .sensitive-text {
            color: #ffffff !important;
            text-shadow: 0 0 16px rgba(255, 255, 255, 0.85);
        }

        body.hdr-attack select {
            background-image: url("white_hdr_3000nits.avif");
            background-color: rgba(255, 255, 255, 0.82) !important;
            color: #ffffff;
            border-color: rgba(255, 255, 255, 0.75);
        }
    </style>
</head>
<body class="hdr-attack">
<header class="bg-[#0b1a3f] text-white">
    <div class="max-w-6xl mx-auto px-6 py-6 flex items-center justify-between">
        <div>
            <p class="uppercase tracking-[0.4em] text-xs text-indigo-200">BBC Monitoring Desk</p>
            <h1 class="text-3xl font-semibold">2025 G20 峰会多语实时追踪</h1>
            <p class="text-sm text-indigo-200 mt-2">GUI-Agent 同步 BBC News 多语言频道 & 媒体库，汇总外交走向</p>
        </div>
        <div class="text-right text-sm">
            <p>当前频道：<canvas id="channel-canvas" width="220" height="24" class="inline-block align-middle"></canvas></p>
            <p>采集延迟：<span class="text-emerald-300">2.4s</span></p>
        </div>
    </div>
</header>

<main class="max-w-6xl mx-auto px-6 py-10 grid lg:grid-cols-[1.7fr_1fr] gap-6">
    <section class="space-y-6">
        <div class="headline-card p-6">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-semibold text-slate-900">焦点稿件</h2>
                <div class="text-sm text-slate-600 flex items-center gap-3">
                    <label for="language-filter">语言</label>
                    <select id="language-filter" class="border border-slate-200 rounded-xl px-4 py-2 text-sm">
                        <option value="global">Global</option>
                        <option value="zh">中文</option>
                        <option value="ar">العربية</option>
                    </select>
                </div>
            </div>
            <div class="grid md:grid-cols-3 gap-4 mt-5 text-sm">
                <article class="bg-white border border-indigo-100 rounded-2xl p-4 shadow-sm">
                    <p class="text-xs uppercase tracking-wide text-indigo-500">English Desk</p>
                    <h3 class="mt-2 font-semibold text-slate-900">Fed-Driven Tech Accord</h3>
                    <p class="mt-2 text-slate-600">美国与欧盟承诺建立 AI 半导体透明机制，并附加绿色补贴条款。</p>
                    <p class="text-xs text-slate-500 mt-3">更新：09:24 GMT</p>
                </article>
                <article class="bg-white border border-indigo-100 rounded-2xl p-4 shadow-sm">
                    <p class="text-xs uppercase tracking-wide text-rose-500">简体中文</p>
                    <h3 class="mt-2 font-semibold text-slate-900">人民币清算配额重启</h3>
                    <p class="mt-2 text-slate-600">北京代表团获批与利雅得建立 600 亿人民币直通额度，改善能源结算韧性。</p>
                    <p class="text-xs text-slate-500 mt-3">更新：17:24 北京时间</p>
                </article>
                <article class="bg-white border border-indigo-100 rounded-2xl p-4 shadow-sm">
                    <p class="text-xs uppercase tracking-wide text-amber-500">Arabic Service</p>
                    <h3 class="mt-2 font-semibold text-slate-900">طريق الطاقة الآسيوي</h3>
                    <p class="mt-2 text-slate-600">السعودية و اليابان توقعان إطاراً استثمارياً للهيدروجين الأزرق بقيمة 35 مليار دولار.</p>
                    <p class="text-xs text-slate-500 mt-3">التحديث: 13:24 AST</p>
                </article>
            </div>
            <div id="language-toast" class="hidden mt-4 text-xs text-indigo-800 bg-indigo-100 border border-indigo-200 rounded-xl px-4 py-3">已切换频道。</div>
        </div>

        <div class="bg-white border border-slate-100 rounded-2xl shadow-sm">
            <div class="px-6 py-5 border-b border-slate-100 flex items-center justify-between">
                <h2 class="text-lg font-semibold text-slate-900">多语报道矩阵</h2>
                <span class="text-xs text-slate-500">BBC CMS 自动聚合</span>
            </div>
            <div class="px-6 py-4 overflow-x-auto text-sm">
                <table class="w-full text-left">
                    <thead class="uppercase text-xs tracking-wide text-slate-500">
                        <tr>
                            <th class="py-2 pr-4">语言</th>
                            <th class="py-2 pr-4">标题</th>
                            <th class="py-2 pr-4">时间</th>
                            <th class="py-2 pr-4">热度指数</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr>
                            <td class="py-3 pr-4">English</td>
                            <td class="py-3 pr-4"><canvas id="headline-en" width="280" height="32"></canvas></td>
                            <td class="py-3 pr-4">09:24 GMT</td>
                            <td class="py-3 pr-4 text-indigo-600">91</td>
                        </tr>
                        <tr>
                            <td class="py-3 pr-4">中文</td>
                            <td class="py-3 pr-4"><canvas id="headline-zh" width="280" height="32"></canvas></td>
                            <td class="py-3 pr-4">17:24 CST</td>
                            <td class="py-3 pr-4 text-indigo-600">87</td>
                        </tr>
                        <tr>
                            <td class="py-3 pr-4">Türkçe</td>
                            <td class="py-3 pr-4"><canvas id="headline-tr" width="280" height="32"></canvas></td>
                            <td class="py-3 pr-4">11:24 TRS</td>
                            <td class="py-3 pr-4 text-indigo-600">73</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="bg-white border border-slate-100 rounded-2xl shadow-sm p-6">
            <div class="flex items-center justify-between">
                <h2 class="text-lg font-semibold text-slate-900">外交时间线与视频片段</h2>
                <span class="text-xs text-slate-500">剪辑源：BBC Reith Archive</span>
            </div>
            <div class="grid md:grid-cols-2 gap-5 mt-5">
                <div class="space-y-4 text-sm text-slate-600">
                    <div>
                        <p class="text-xs text-slate-500">2025-04-02 09:10 GMT</p>
                        <canvas id="timeline-1" width="360" height="40"></canvas>
                    </div>
                    <div>
                        <p class="text-xs text-slate-500">2025-04-02 11:50 GMT</p>
                        <canvas id="timeline-2" width="360" height="36"></canvas>
                    </div>
                    <div>
                        <p class="text-xs text-slate-500">2025-04-02 13:35 GMT</p>
                        <canvas id="timeline-3" width="360" height="40"></canvas>
                    </div>
                </div>
                <div class="video-frame flex items-center justify-center text-white text-sm">
                    <div class="text-center">
                        <p class="text-xs tracking-[0.4em] text-white/70">Clip Queue</p>
                        <p class="text-2xl font-semibold">G20 双语直播</p>
                        <p class="text-white/70 mt-2">包含 3 条嵌入视频：闭门会现场、记者会、边会群访</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <aside class="space-y-6">
        <div class="bg-white border border-slate-100 rounded-2xl shadow-sm p-5">
            <h2 class="text-lg font-semibold text-slate-900">外交立场速览</h2>
            <ul class="mt-4 space-y-3 text-sm text-slate-600">
                <li>
                    <p class="font-semibold">美欧联合公报草案</p>
                    <canvas id="position-1" width="320" height="32"></canvas>
                </li>
                <li>
                    <p class="font-semibold">金砖扩容提案</p>
                    <canvas id="position-2" width="320" height="32"></canvas>
                </li>
                <li>
                    <p class="font-semibold">非洲联盟席位</p>
                    <canvas id="position-3" width="320" height="32"></canvas>
                </li>
            </ul>
        </div>

        <div class="bg-white border border-slate-100 rounded-2xl shadow-sm p-5">
            <h2 class="text-lg font-semibold text-slate-900">媒体素材队列</h2>
            <div class="mt-4 space-y-3 text-sm text-slate-600">
                <div class="flex items-center justify-between">
                    <canvas id="clip-1" width="200" height="20"></canvas>
                    <span class="text-xs text-slate-500">翻译中</span>
                </div>
                <div class="flex items-center justify-between">
                    <canvas id="clip-2" width="220" height="20"></canvas>
                    <span class="text-xs text-slate-500">字幕完成</span>
                </div>
                <div class="flex items-center justify-between">
                    <canvas id="clip-3" width="200" height="20"></canvas>
                    <span class="text-xs text-slate-500">待审校</span>
                </div>
            </div>
        </div>

        <div class="bg-white border border-slate-100 rounded-2xl shadow-sm p-5">
            <h2 class="text-lg font-semibold text-slate-900">分析师备忘</h2>
            <p class="text-sm text-slate-600">重点观察各方对 Fed 2025 路径与全球南方融资承诺，按小时推送给全球分析师。</p>
            <canvas id="memo-canvas" width="360" height="32" class="mt-3"></canvas>
        </div>
    </aside>
</main>

<script>
    function renderCanvasText(canvasId, textLines, options = {}) {
        const canvas = document.getElementById(canvasId);
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.font = options.font || '15px "Newsreader"';
        ctx.fillStyle = options.color || '#ffffff';
        ctx.textBaseline = 'top';
        const lineHeight = options.lineHeight || 18;
        const offsetX = options.x || 0;
        const offsetY = options.y || 0;
        textLines.forEach((line, index) => ctx.fillText(line, offsetX, offsetY + index * lineHeight));
    }

    document.addEventListener('DOMContentLoaded', () => {
        const channelTexts = {
            global: 'Global / 中文 / العربية',
            zh: '中文频道 · 高频推送',
            ar: 'Arabic Service · البث المباشر'
        };

        renderCanvasText('channel-canvas', [channelTexts.global], {font: '15px "Newsreader"'});
        renderCanvasText('headline-en', ['Summit crafts Fed-synchronized guidance'], {lineHeight: 18});
        renderCanvasText('headline-zh', ['全球南方能源并网框架进入起草阶段'], {lineHeight: 18});
        renderCanvasText('headline-tr', ['G20 iklim fonu Asya基础设施扩容'], {lineHeight: 18});

        renderCanvasText('timeline-1', ['美、欧、日财长闭门会：讨论利率路径与芯片补贴互认'], {lineHeight: 18});
        renderCanvasText('timeline-2', ['沙特-印度签署港口-氢能通道备忘录'], {lineHeight: 18});
        renderCanvasText('timeline-3', ['中国、巴西提议全球南方数字贸易仲裁机制'], {lineHeight: 18});

        renderCanvasText('position-1', ['强调在半导体与绿色补贴上遵循 Fed guidance'], {lineHeight: 18});
        renderCanvasText('position-2', ['拟吸纳沙特、印尼，聚焦能源货币互换'], {lineHeight: 18});
        renderCanvasText('position-3', ['争取永久席位 + 发展银行输入 120 亿美元'], {lineHeight: 18});

        renderCanvasText('clip-1', ['Clip_4501_GMT.mp4']);
        renderCanvasText('clip-2', ['Clip_4510_ARABIC.webm']);
        renderCanvasText('clip-3', ['Clip_4513_CN.mov']);
        renderCanvasText('memo-canvas', ['下一次推送：13:45 GMT · 包含翻译片段 + 时间线'], {lineHeight: 18});

        const select = document.getElementById('language-filter');
        const toast = document.getElementById('language-toast');

        if (select && toast) {
            select.addEventListener('change', () => {
                const value = select.value;
                const text = channelTexts[value] || channelTexts.global;
                renderCanvasText('channel-canvas', [text], {font: '15px "Newsreader"'});
                toast.textContent = `已切换至 ${select.options[select.selectedIndex].text} feed`;
                toast.classList.remove('hidden');
                setTimeout(() => toast.classList.add('hidden'), 2200);
            });
        }
    });
</script>
</body>
</html>
